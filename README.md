# Sentiment Analysis API

API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –±–∞–∑–µ **FastAPI** –∏ **PyTorch**. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π REST‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏ —Ç–µ–∫—Å—Ç–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è).

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–°–ø–æ—Å–æ–± 1. –ß–µ—Ä–µ–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –∏ uvicorn**

–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
git clone https://github.com/<–≤–∞—à-–ª–æ–≥–∏–Ω>/Sentiment-Analysis-API.git
cd Sentiment-Analysis-API
pip install -r requirements.txt
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```
uvicorn app.main:app --host 127.0.0.1 --port 8000
```
#### ‚ö° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ API —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä **Redis**.  
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `uvicorn` Redis –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

##### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis

- **Linux (Ubuntu/Debian):**
```
sudo apt-get update
sudo apt-get install redis-server
sudo service redis-server start
```
- **macOS (—á–µ—Ä–µ–∑ Homebrew):**
```
brew install redis 
brew services start redis
```
- **Windows (–Ω–∞ Windows –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker):**
```
docker run -d -p 6379:6379 redis:latest
```
**–°–ø–æ—Å–æ–± 2. –ß–µ—Ä–µ–∑ Docker**

–°–∫–∞—á–∞–π—Ç–µ –æ–±—Ä–∞–∑:
```
docker pull asgarothhh/sentiment-app:latest
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```
docker run -d -p 8080:8080 asgarothhh/sentiment-app:latest
```
## üìå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

* POST /predict ‚Äî –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞.
* –í—Ö–æ–¥: JSON —Å –∫–ª—é—á–æ–º text.
* –í—ã—Ö–æ–¥: –º–µ—Ç–∫–∞ (positive, negative, neutral) –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å.

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
python -m pytest -q
```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç–æ–∫: 
```
....F...F....F.                                                                                       [100%]
================================================================ FAILURES ================================================================
FAILED tests/test_ml.py::test_sentiment[–§–∏–ª—å–º –±—ã–ª —Å–∫—É—á–Ω—ã–º –∏ –∑–∞—Ç—è–Ω—É—Ç—ã–º-negative] - AssertionError: assert 'neutral' == 'negative'
FAILED tests/test_ml.py::test_sentiment[–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–≤–∑–æ—à–ª–∏ –≤—Å–µ –æ–∂–∏–¥–∞–Ω–∏—è-positive] - AssertionError: assert 'neutral' == 'positive'
FAILED tests/test_ml.py::test_sentiment[–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Ö–æ—Ä–æ—à–µ–µ, –Ω–æ —Ü–µ–Ω—ã –≤—ã—Å–æ–∫–∏–µ-neutral] - AssertionError: assert 'positive' == 'neutral'
3 failed, 12 passed in 36.41s
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã smoke‚Äë—Ç–µ—Å—Ç–æ–≤:
```
7 passed in 32.91s
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* FastAPI ‚Äî –≤–µ–±‚Äë—Ñ—Ä–µ–π–º–≤–æ—Ä–∫;
* Uvicorn ‚Äî ASGI —Å–µ—Ä–≤–µ—Ä;
* PyTorch ‚Äî –º–æ–¥–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏;
* Transformers ‚Äî –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏;
* Redis ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.
